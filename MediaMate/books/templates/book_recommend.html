{% extends "index.html" %}

{% block name %}
   
<div class="container">
     <div class="row justify-content-center">
         <div class="col-md-6">
             <!-- Form Section -->
             <div class="position-relative my-4">
                 <h2 class="text-center">Recommend Books</h2>
 
                 <form action="{% url 'recommend' %}" method="POST" class="text-center">
                    {% csrf_token %}
                    <textarea class="form-control" rows="6" name="user_input" placeholder="Enter book details here..."></textarea><br>
                    <button type="submit" class="btn btn-lg btn-warning mt-3">Recommend</button>
                </form>
             </div>
             
             <!-- Display the recommendations if they exist -->
             {% if data %}
                 <h3 class="text-center mt-5">Books similar to "{{ user_input }}"</h3>
                 <!-- Loop through the data list and display each recommended book -->
                 {% for item in data %}
                     <div class="card shadow-sm my-4">
                         <img class="card-img-top" src="{{ item.2 }}" alt="Unable to Load">
                         <div class="card-body text-center">
                             <h5 class="card-title">{{ item.0 }}</h5>
                             <h5 class="card-subtitle mb-2 text-muted">By: {{ item.1 }}</h5>
                         </div>
                     </div>
                 {% endfor %}
             {% endif %}
         </div>
     </div>
 </div>
 
{% endblock name %}
